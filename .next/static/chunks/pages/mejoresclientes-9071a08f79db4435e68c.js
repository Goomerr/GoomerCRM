(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[782],{8445:function(e,r,n){"use strict";n.d(r,{Z:function(){return x}});var s=n(5893),t=(n(7294),n(9008)),l=n(1664),a=n(1163),i=function(){var e=(0,a.useRouter)();return(0,s.jsxs)("aside",{className:"bg-gray-800 sm:w-1/3 xl:w-1/5 sm:min-h-screen sm:block  p-5",children:[(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"text-white text-2xl font-black",children:"CRM Clientes"})}),(0,s.jsxs)("nav",{className:"mt-5 list-none",children:[(0,s.jsx)("li",{className:"/"===e.pathname?"bg-blue-800 border-b-2 border-gray-200 p-2":"p-2",children:(0,s.jsx)(l.default,{href:"/",children:(0,s.jsx)("a",{className:"text-white block",children:"Clientes"})})}),(0,s.jsx)("li",{className:"/pedidos"===e.pathname?"bg-blue-800 border-b-2 border-gray-200 p-2":"p-2",children:(0,s.jsx)(l.default,{href:"/pedidos",children:(0,s.jsx)("a",{className:"text-white block",children:"Pedidos"})})}),(0,s.jsx)("li",{className:"/productos"===e.pathname?"bg-blue-800 border-b-2 border-gray-200 p-2":"p-2",children:(0,s.jsx)(l.default,{href:"/productos",children:(0,s.jsx)("a",{className:"text-white block",children:"Productos"})})})]}),(0,s.jsx)("div",{className:"sm:mt-10",children:(0,s.jsx)("p",{className:"text-white text-2xl font-black",children:"Gr\xe1ficas"})}),(0,s.jsxs)("nav",{className:"mt-5 list-none",children:[(0,s.jsx)("li",{className:"/mejoresvendedores"===e.pathname?"bg-blue-800 border-b-2 border-gray-200 p-2":"p-2",children:(0,s.jsx)(l.default,{href:"/mejoresvendedores",children:(0,s.jsx)("a",{className:"text-white block",children:"Mejores Vendedores"})})}),(0,s.jsx)("li",{className:"/mejoresclientes"===e.pathname?"bg-blue-800 border-b-2 border-gray-200 p-2":"p-2",children:(0,s.jsx)(l.default,{href:"/mejoresclientes",children:(0,s.jsx)("a",{className:"text-white block",children:"Mejores Clientes"})})})]})]})},o=n(168),c=n(5333),d=n(570);function u(){var e=(0,o.Z)(["\nquery obtenerUsuario {\n    obtenerUsuario {\n      nombre\n      apellido\n    }\n  }  \n"]);return u=function(){return e},e}var h=(0,c.Ps)(u()),m=function(){var e=(0,a.useRouter)(),r=(0,d.a)(h),n=r.data,t=r.loading;r.error;if(t)return"Cragando...";n||e.push("/login");var l=n.obtenerUsuario,i=l.nombre,o=l.apellido;return(0,s.jsxs)("div",{className:"sm:flex sm:justify-between mb-6",children:[(0,s.jsxs)("p",{className:"mr-2 mb-3 sm:mb-0",children:["Hola: ",i," ",o," "]}),(0,s.jsx)("button",{type:"button",className:"bg-blue-800 hover:bg-gray-800 font-bold uppercase text-xs rounded p-3 text-white shadow-md w-full sm:w-auto",onClick:function(){return localStorage.removeItem("token"),void e.push("/login")},children:"Cerrar Sesi\xf3n"})]})},x=function(e){var r=e.children,n=(0,a.useRouter)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.default,{children:[(0,s.jsx)("title",{children:"Goomer CRM Administracion de Clientes"}),(0,s.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css",integrity:"sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w==",crossOrigin:"anonymous",referrerPolicy:"no-referrer"}),(0,s.jsx)("link",{href:"https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css",rel:"stylesheet"})]}),"/login"===n.pathname||"/nuevacuenta"===n.pathname?(0,s.jsx)("div",{className:"bg-gray-800 min-h-screen flex flex-col justify-center",children:r}):(0,s.jsx)("div",{className:"bg-gray-200 min-h-screen",children:(0,s.jsxs)("div",{className:"block sm:flex ",children:[(0,s.jsx)(i,{}),(0,s.jsxs)("main",{className:" sm:w-2/3 xl:w-4/5 sm:min-h-screen p-5",children:[(0,s.jsx)(m,{}),(0,s.jsx)("div",{className:"grid",children:r})]})]})})]})}},5195:function(e,r,n){"use strict";n.r(r);var s=n(5893),t=n(4942),l=n(168),a=n(7294),i=n(8445),o=n(9009),c=n(3246),d=n(4195),u=n(3023),h=n(5358),m=n(9307),x=n(6830),b=n(8102),j=n(5333),f=n(570);function p(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,s)}return n}function g(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?p(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function v(){var e=(0,l.Z)(["\nquery Query {\n    mejoresClientes {\n      total\n      cliente {\n        nombre\n        apellido\n        email\n      }\n    }\n  }  \n"]);return v=function(){return e},e}var y=(0,j.Ps)(v());r.default=function(){var e=(0,f.a)(y),r=e.data,n=e.loading,t=(e.error,e.startPolling),l=e.stopPolling;if((0,a.useEffect)((function(){return t(1e3),function(){l()}}),[t,l]),n)return"Cargando...";console.log(r);var j=r.mejoresClientes;console.log(j);var p=[];return j.map((function(e,r){p[r]=g(g({},e.cliente[0]),{},{Total:e.total,nombre:e.cliente[0].nombre+" "+e.cliente[0].apellido})})),(0,s.jsxs)(i.Z,{children:[(0,s.jsx)("h1",{className:"text-2xl text-gray-800 font-light",children:"Mejores Clientes"}),(0,s.jsx)(o.h,{width:"99%",height:550,children:(0,s.jsxs)(c.v,{className:"mt-10",width:600,height:400,data:p,margin:{top:5,right:30,left:20,bottom:5},children:[(0,s.jsx)(d.q,{strokeDasharray:"3 3"}),(0,s.jsx)(u.K,{dataKey:"nombre"}),(0,s.jsx)(h.B,{}),(0,s.jsx)(m.u,{}),(0,s.jsx)(x.D,{}),(0,s.jsx)(b.$,{dataKey:"Total",fill:"#1E40AF"})]})})]})}},2906:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mejoresclientes",function(){return n(5195)}])}},function(e){e.O(0,[774,26,524,189,888,179],(function(){return r=2906,e(e.s=r);var r}));var r=e.O();_N_E=r}]);