(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[173],{8445:function(e,r,s){"use strict";s.d(r,{Z:function(){return p}});var n=s(5893),t=(s(7294),s(9008)),a=s(1664),l=s(1163),o=function(){var e=(0,l.useRouter)();return(0,n.jsxs)("aside",{className:"bg-gray-800 sm:w-1/3 xl:w-1/5 sm:min-h-screen sm:block  p-5",children:[(0,n.jsx)("div",{children:(0,n.jsx)("p",{className:"text-white text-2xl font-black",children:"CRM Clientes"})}),(0,n.jsxs)("nav",{className:"mt-5 list-none",children:[(0,n.jsx)("li",{className:"/"===e.pathname?"bg-blue-800 border-b-2 border-gray-200 p-2":"p-2",children:(0,n.jsx)(a.default,{href:"/",children:(0,n.jsx)("a",{className:"text-white block",children:"Clientes"})})}),(0,n.jsx)("li",{className:"/pedidos"===e.pathname?"bg-blue-800 border-b-2 border-gray-200 p-2":"p-2",children:(0,n.jsx)(a.default,{href:"/pedidos",children:(0,n.jsx)("a",{className:"text-white block",children:"Pedidos"})})}),(0,n.jsx)("li",{className:"/productos"===e.pathname?"bg-blue-800 border-b-2 border-gray-200 p-2":"p-2",children:(0,n.jsx)(a.default,{href:"/productos",children:(0,n.jsx)("a",{className:"text-white block",children:"Productos"})})})]}),(0,n.jsx)("div",{className:"sm:mt-10",children:(0,n.jsx)("p",{className:"text-white text-2xl font-black",children:"Gr\xe1ficas"})}),(0,n.jsxs)("nav",{className:"mt-5 list-none",children:[(0,n.jsx)("li",{className:"/mejoresvendedores"===e.pathname?"bg-blue-800 border-b-2 border-gray-200 p-2":"p-2",children:(0,n.jsx)(a.default,{href:"/mejoresvendedores",children:(0,n.jsx)("a",{className:"text-white block",children:"Mejores Vendedores"})})}),(0,n.jsx)("li",{className:"/mejoresclientes"===e.pathname?"bg-blue-800 border-b-2 border-gray-200 p-2":"p-2",children:(0,n.jsx)(a.default,{href:"/mejoresclientes",children:(0,n.jsx)("a",{className:"text-white block",children:"Mejores Clientes"})})})]})]})},i=s(168),d=s(5333),c=s(570);function u(){var e=(0,i.Z)(["\nquery obtenerUsuario {\n    obtenerUsuario {\n      nombre\n      apellido\n    }\n  }  \n"]);return u=function(){return e},e}var m=(0,d.Ps)(u()),h=function(){var e=(0,l.useRouter)(),r=(0,c.a)(m),s=r.data,t=r.loading;r.error;if(t)return"Cragando...";s||e.push("/login");var a=s.obtenerUsuario,o=a.nombre,i=a.apellido;return(0,n.jsxs)("div",{className:"sm:flex sm:justify-between mb-6",children:[(0,n.jsxs)("p",{className:"mr-2 mb-3 sm:mb-0",children:["Hola: ",o," ",i," "]}),(0,n.jsx)("button",{type:"button",className:"bg-blue-800 hover:bg-gray-800 font-bold uppercase text-xs rounded p-3 text-white shadow-md w-full sm:w-auto",onClick:function(){return localStorage.removeItem("token"),void e.push("/login")},children:"Cerrar Sesi\xf3n"})]})},p=function(e){var r=e.children,s=(0,l.useRouter)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.default,{children:[(0,n.jsx)("title",{children:"Goomer CRM Administracion de Clientes"}),(0,n.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css",integrity:"sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w==",crossOrigin:"anonymous",referrerPolicy:"no-referrer"}),(0,n.jsx)("link",{href:"https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css",rel:"stylesheet"})]}),"/login"===s.pathname||"/nuevacuenta"===s.pathname?(0,n.jsx)("div",{className:"bg-gray-800 min-h-screen flex flex-col justify-center",children:r}):(0,n.jsx)("div",{className:"bg-gray-200 min-h-screen",children:(0,n.jsxs)("div",{className:"block sm:flex ",children:[(0,n.jsx)(o,{}),(0,n.jsxs)("main",{className:" sm:w-2/3 xl:w-4/5 sm:min-h-screen p-5",children:[(0,n.jsx)(h,{}),(0,n.jsx)("div",{className:"grid",children:r})]})]})})]})}},1079:function(e,r,s){"use strict";s.r(r);var n=s(5893),t=s(7757),a=s.n(t),l=s(5861),o=s(1013),i=s(168),d=s(7294),c=s(8445),u=s(5333),m=s(5709),h=s(1163),p=s(659),b=s(7561),x=s(9620);function g(){var e=(0,i.Z)(["\nmutation NuevoUsuarioMutation($nuevoUsuarioInput: UsuarioInput) {\n    nuevoUsuario(input: $nuevoUsuarioInput) {\n      nombre\n      apellido\n      email\n    }\n  }\n"]);return g=function(){return e},e}s.n(x)()(b);var f=(0,u.Ps)(g()),j=function(){var e=document.querySelector("#password"),r=document.querySelector("#btn"),s=document.querySelector("#btn1");"password"==e.type?(e.type="text",r.style.display="block",s.style.display="none"):(e.type="password",r.style.display="none",s.style.display="block")},y=function(){var e=document.querySelector("#confirmar_password"),r=document.querySelector("#btn2"),s=document.querySelector("#btn3");"password"==e.type?(e.type="text",r.style.display="block",s.style.display="none"):(e.type="password",r.style.display="none",s.style.display="block")};r.default=function(){var e=(0,h.useRouter)(),r=(0,d.useState)(null),s=r[0],t=r[1],i=(0,m.D)(f),u=(0,o.Z)(i,1)[0],x=(0,p.TA)({initialValues:{nombre:"",apellido:"",email:"",password:"",confirmar_password:""},validationSchema:b.object({nombre:b.string().required("El nombre es obligatorio"),apellido:b.string().required("El apellido es obligatorio"),email:b.string().email("Introduce un email valido").required("El email es obligatorio"),password:b.string().required("El password es obligatorio, debe contener al menos 8 caracteres, una letra may\xfascula, una min\xfascula y un car\xe1cter especial").min(8,"El passwor debe ser de un m\xednimo de 8 caracteres").minUppercase(1,"Debe contener al menos una letra may\xfascula").minLowercase(1,"Debe contener al menos una letra min\xfascula").minSymbols(1,"Debe contener al menos una car\xe1cter especial "),confirmar_password:b.string().required("Confirme el password")}),onSubmit:function(){var r=(0,l.Z)(a().mark((function r(s){var n,l,o,i,d,c;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=s.nombre,l=s.apellido,o=s.email,i=s.password,r.prev=1,r.next=4,u({variables:{nuevoUsuarioInput:{nombre:n,apellido:l,email:o,password:i}}});case 4:d=r.sent,c=d.data,console.log(c),t("El Usuario: ".concat(c.nuevoUsuario.nombre," ").concat(c.nuevoUsuario.apellido,", Se Creo Correctamente")),setTimeout((function(){t(null),e.push("/login")}),3e3),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(1),t(r.t0.message),setTimeout((function(){t(null)}),3e3);case 15:case"end":return r.stop()}}),r,null,[[1,11]])})));return function(e){return r.apply(this,arguments)}}()});return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(c.Z,{children:[s&&(0,n.jsx)("div",{className:"font-bold bg-white py-2 px-3 w-full my-3 max-w-lg rounded text-center mx-auto",children:(0,n.jsxs)("p",{children:[s," "]})}),(0,n.jsx)("h1",{className:"text-center text-2xl text-white font-light",children:"Nueva Cuenta"}),(0,n.jsx)("div",{className:"flex justify-center mt-5",children:(0,n.jsx)("div",{className:"w-full sm:max-w-lg",children:(0,n.jsxs)("form",{className:"bg-white rounded shadow-md px-8 pt-6 pb-8 mb-4",onSubmit:x.handleSubmit,children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"nombre",children:"Nombre"}),(0,n.jsx)("input",{className:" shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring",id:"nombre",type:"text",placeholder:"Nombre Usuario",onChange:x.handleChange,onBlur:x.handleBlur,value:x.values.nombre})]}),x.touched.nombre&&x.errors.nombre?(0,n.jsxs)("div",{className:"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-2",children:[(0,n.jsx)("p",{className:"font-bold",children:"Error:"}),(0,n.jsxs)("p",{children:[x.errors.nombre," "]})]}):null,(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"apellido",children:"Apellido"}),(0,n.jsx)("input",{className:" shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring",id:"apellido",type:"text",placeholder:"Apellido Usuario",onChange:x.handleChange,onBlur:x.handleBlur,value:x.values.apellido})]}),x.touched.apellido&&x.errors.apellido?(0,n.jsxs)("div",{className:"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-2",children:[(0,n.jsx)("p",{className:"font-bold",children:"Error:"}),(0,n.jsxs)("p",{children:[x.errors.apellido," "]})]}):null,(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),(0,n.jsx)("input",{className:" shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring",id:"email",type:"email",placeholder:"Email Usuario",onChange:x.handleChange,onBlur:x.handleBlur,value:x.values.email})]}),x.touched.email&&x.errors.email?(0,n.jsxs)("div",{className:"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-2",children:[(0,n.jsx)("p",{className:"font-bold",children:"Error:"}),(0,n.jsxs)("p",{children:[x.errors.email," "]})]}):null,(0,n.jsxs)("div",{className:"mb-4 relative ",children:[(0,n.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),(0,n.jsx)("input",{className:" shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring",id:"password",type:"password",placeholder:"Password",onChange:x.handleChange,onBlur:x.handleBlur,value:x.values.password}),(0,n.jsx)("button",{id:"btn",type:"button",className:"cursor-pointer absolute right-0 rounded bottom-0 bg-gray-800 text-white text-xs",onClick:function(){return j()},children:(0,n.jsx)("img",{src:"eye.png",width:"28"})}),(0,n.jsx)("button",{id:"btn1",type:"button",className:"cursor-pointer absolute right-0 rounded bottom-0 bg-gray-800 text-white text-xs",onClick:function(){return j()},children:(0,n.jsx)("img",{src:"eye-slash.png",width:"28"})})]}),x.touched.password&&x.errors.password?(0,n.jsxs)("div",{className:"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-2",children:[(0,n.jsx)("p",{className:"font-bold",children:"Error:"}),(0,n.jsxs)("p",{children:[x.errors.password," "]})]}):null,(0,n.jsxs)("div",{className:"mb-4 relative",children:[(0,n.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"confirmar_password",children:"Confirmar Password"}),(0,n.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring",id:"confirmar_password",type:"password",placeholder:"Password",onChange:x.handleChange,onBlur:x.handleBlur,value:x.values.confirmar_password}),(0,n.jsx)("button",{id:"btn2",type:"button",className:"cursor-pointer absolute right-0 rounded bottom-0 bg-gray-800 text-white text-xs",onClick:function(){return y()},children:(0,n.jsx)("img",{src:"eye.png",width:"28"})}),(0,n.jsx)("button",{id:"btn3",type:"button",className:"cursor-pointer absolute right-0 rounded bottom-0 bg-gray-800 text-white text-xs",onClick:function(){return y()},children:(0,n.jsx)("img",{src:"eye-slash.png",width:"28"})})]}),x.values.password!==x.values.confirmar_password?(0,n.jsxs)("div",{className:"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-2",children:[(0,n.jsx)("p",{className:"font-bold",children:"Error:"}),(0,n.jsx)("p",{children:"Los password no son iguales "})]}):null,x.touched.confirmar_password&&x.errors.confirmar_password?(0,n.jsxs)("div",{className:"my-2 bg-red-100 border-l-4 border-red-500 text-red-700 p-2",children:[(0,n.jsx)("p",{className:"font-bold",children:"Error:"}),(0,n.jsxs)("p",{children:[x.errors.confirmar_password," "]})]}):null,(0,n.jsx)("input",{type:"submit",className:"bg-gray-800 w-full mt-5 p-2 text-white uppercase hover:bg-gray-900 cursor-pointer",value:"Crear Cuenta"})]})})})]})})}},7752:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nuevacuenta",function(){return s(1079)}])},9620:function(e){"use strict";const r=function(e,r){return 1===r?e:`${e}s`},s=function(e){return null===e||void 0===e};function n(e=1,n){const t=n||"${path} must contain at least ${length} lowercase "+r("letter",e);return this.test({name:"minLowercase",exclusive:!0,message:t,params:{length:e},test:r=>s(r)||(r.match(/[a-z]/g)||[]).length>=e})}function t(e=1,n){const t=n||"${path} must contain at least ${length} uppercase "+r("letter",e);return this.test({name:"minUppercase",exclusive:!0,message:t,params:{length:e},test:r=>s(r)||(r.match(/[A-Z]/g)||[]).length>=e})}function a(e=1,n){const t=n||"${path} must contain at least ${length} "+r("number",e);return this.test({name:"minNumber",exclusive:!0,message:t,params:{length:e},test:r=>s(r)||(r.match(/[0-9]/g)||[]).length>=e})}function l(e=1,n){const t=n||"${path} must contain at least ${length} "+r("symbol",e);return this.test({name:"minSymbol",exclusive:!0,message:t,params:{length:e},test:r=>s(r)||(r.match(/[^a-zA-Z0-9\s]/g)||[]).length>=e})}function o(e=2,n){const t=n||"${path} must not contain sequences of more than ${length} repeated "+r("character",e);return this.test({name:"minRepeating",exclusive:!0,message:t,params:{length:e},test:r=>s(r)||!new RegExp(`(.)\\1{${e},}`).test(r)})}function i(e=2,n){const t=n||"${path} must contain at least ${length} "+r("word",e),a=new RegExp("[a-zA-Z0-9]");return this.test({name:"minWords",exclusive:!0,message:t,params:{length:e},test:r=>s(r)||r.split(" ").filter((e=>!!e&&a.test(e))).length>=e})}function d(){return this.min(8).max(250).minLowercase(1).minUppercase(1).minNumbers(1).minSymbols(1)}e.exports=function(e){e.addMethod(e.string,"minLowercase",n),e.addMethod(e.string,"minUppercase",t),e.addMethod(e.string,"minNumber",a),e.addMethod(e.string,"minNumbers",a),e.addMethod(e.string,"minSymbol",l),e.addMethod(e.string,"minSymbols",l),e.addMethod(e.string,"minRepeating",o),e.addMethod(e.string,"minWords",i),e.addMethod(e.string,"password",d)}}},function(e){e.O(0,[26,524,969,774,888,179],(function(){return r=7752,e(e.s=r);var r}));var r=e.O();_N_E=r}]);